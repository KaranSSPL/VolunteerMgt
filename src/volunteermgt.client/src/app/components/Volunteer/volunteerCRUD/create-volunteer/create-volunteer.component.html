<div class="form-container">
  <h2>Create Volunteer</h2>

  <form [formGroup]="volunteerForm" enctype="multipart/form-data">
    <div class="form-group">
      <label>Name:</label>
      <input type="text" formControlName="name" placeholder="Enter Name" />
    </div>

    <div class="form-group">
      <label>Mobile No:</label>
      <input type="text" formControlName="mobileNo" placeholder="Enter Mobile No" />
    </div>

    <div class="form-group">
      <label>Address:</label>
      <input type="text" formControlName="address" placeholder="Enter Address" />
    </div>

    <div class="form-group">
      <label>Occupation:</label>
      <input type="text" formControlName="occupation" placeholder="Enter Occupation" />
    </div>

    <div class="form-group">
      <label>Code:</label>
      <input type="text" formControlName="code" placeholder="Enter code" />
    </div>

    <div class="photo-upload">
      <div class="label-wrapper">
      <label class="photo-label">Upload Photo :</label>
        </div>
      <div class="photo-wrapper">
        <input type="file" accept="image/*" formControlName="image" (change)="onFileSelect($event)" />
      <label class="photo-or-label">or</label>
        <button type="button" class="camera-btn" (click)="capturePhoto()"> Take Photo</button>
      </div>

      <div *ngIf="photoPreview" class="photo-preview">
        <img [src]="photoPreview" alt="Volunteer Photo" />
        <span class="remove-photo" (click)="removePhoto()">âœ–</span>
      </div>
    </div>
    <div class="availability-block">
      <h3>Availability :</h3>
      <div formArrayName="availabilities">
        <div *ngFor="let avail of availabilities.controls; let i = index" [formGroupName]="i" class="availability-group">
          <div class="day-slot">
            <label>Day:</label>
            <input type="text" formControlName="day"
                   placeholder="Type day..."
                   (input)="filterDays(i)"
                   (keydown)="handleKeydown($event, i)"
                   (blur)="hideSuggestions(i)" />
            <div class="suggestion-box" *ngIf="suggestedDays[i]?.length">
              <p *ngFor="let day of suggestedDays[i]; let j = index"
                 [class.selected]="j === selectedDayIndex[i]"
                 (click)="selectDay(i, day)">
                {{ day }}
              </p>
            </div>
          </div>
          <div class="time-slot">
            <label>Time Slot:</label>
            <input type="text" formControlName="timeSlot" placeholder="Time Slot (e.g., 10 AM - 2 PM)" />
          </div>
          <button *ngIf="i > 0" type="button" class="remove-btn" (click)="removeAvailability(i)">Remove</button>
        </div>
      </div>
    </div>
    <button type="button" class="add-btn" (click)="addAvailability()">Add More Availability</button>
    <button type="submit" class="submit-btn" (click)="submitForm()">Add Volunteer</button>
    <button type="button" class="cancel-btn" (click)="cancel()">Cancel</button>
  </form>
</div>
